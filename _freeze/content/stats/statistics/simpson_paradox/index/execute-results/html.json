{
  "hash": "4ec0b0bc0145810d543bf59aa9c68060",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Understanding Simpson's Paradox: A Simple Explanation\"\ndate: '2024-01-12'\nimage: featured.png\nslug: bayesian-statistics\ncategories:\n  - rstats\n  - modeling\nsummary: \"The key to resolving Simpson’s Paradox is to recognise that the question “is men or women the best choise of the next managerial postion” is a causal one.\"\nexecute: \n  eval: true\n---\n\n<center>![](https://media.giphy.com/media/aQt5QYJm0FZo4/giphy.gif)</center>\n\n`Simpson's Paradox` is a statistical phenomenon where a trend appears in different groups of data but disappears or reverses when these groups are combined. This paradox highlights the importance of considering confounding variables and understanding the causal relationship between variables.\n\n### Example Scenario: Work Environment\n\nLet's consider a hypothetical work environment where the number of women (W) is greater than the number of men (M). However, when looking at the distribution of managerial positions (P), it seems that more men occupy higher-level positions compared to women.\n\nNow, suppose there's a characteristic Z, representing gender, and you suspect it might influence the choice of assigning a managerial position (P) because a specific time dedicated to a critical task (T) is primarily marketed toward men (M).\n\nTo illustrate this paradox, we'll create synthetic data in R.\n\n#### Install and load necessary library\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(dplyr)\n```\n:::\n\n\n#### Set seed for reproducibility\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(123)\n```\n:::\n\n\n#### Generate synthetic data\n\n\n::: {.cell}\n\n```{.r .cell-code}\nn <- 1000  # Number of employees \nW <- round(runif(n, 200, 800))  # Number of women\nM <- n - W  # Number of men\n```\n:::\n\n\n#### Assign managerial positions based on gender and a confounding variable\n\n\n::: {.cell}\n\n```{.r .cell-code}\nP_W <- round(runif(W, 0, 1))  # 0 for no managerial position, 1 for managerial position for women\nP_M <- round(runif(M, 0.2, 1))  # Higher chance of managerial position for men due to confounding variable\n```\n:::\n\n\n#### Create a data frame\n\n\n::: {.cell}\n\n```{.r .cell-code}\nw <- tibble(gender=\"Women\",count=W,manager=P_W)\n\nm <- tibble(gender=\"Men\",count=M,manager=P_M)\n\ndata <- rbind(w,m)\ndata%>%head\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 6 × 3\n  gender count manager\n  <chr>  <dbl>   <dbl>\n1 Women    373       0\n2 Women    673       1\n3 Women    445       0\n4 Women    730       1\n5 Women    764       1\n6 Women    227       0\n```\n\n\n:::\n:::\n\n\n#### Display the initial summary\n\n\n::: {.cell}\n\n```{.r .cell-code}\nsummary(data)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n    gender              count        manager      \n Length:2000        Min.   :200   Min.   :0.0000  \n Class :character   1st Qu.:352   1st Qu.:0.0000  \n Mode  :character   Median :500   Median :1.0000  \n                    Mean   :500   Mean   :0.5615  \n                    3rd Qu.:648   3rd Qu.:1.0000  \n                    Max.   :800   Max.   :1.0000  \n```\n\n\n:::\n:::\n\n\nIn this example, we have created a dataset with a larger number of women, but the chance of obtaining a managerial position for men is influenced by a confounding variable. Now, let's examine the paradox.\n\n### Calculate the proportion of managerial positions for each gender\n\n\n::: {.cell}\n\n```{.r .cell-code}\nproportion_table <- data %>%\n  group_by(gender) %>%\n  summarize(proportion = mean(manager))\n```\n:::\n\n\n#### Display the proportions\n\n\n::: {.cell}\n\n```{.r .cell-code}\nproportion_table\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 2 × 2\n  gender proportion\n  <chr>       <dbl>\n1 Men         0.626\n2 Women       0.497\n```\n\n\n:::\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(ggplot2)\nproportion_table%>%\n  ggplot(aes(gender,proportion,fill=gender))+\n  geom_col(color=\"white\",show.legend = F)+\n  scale_fill_viridis_d()+\n  labs(title = \"Proportion of Managers by Gender\",\n       subtitle = \"Example of the Simpson's Paradox\",\n       x=\"\",\n       caption = \"Data: Syntetic | Graphics: Federica Gazzelloni\") +\n  coord_equal()+\n  ggthemes::theme_pander()+\n  theme(plot.caption = element_text(hjust = 0.5))\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n:::\n\n\n\n::: {.cell}\n\n:::\n\n\nIn this scenario, when examining the proportion of managerial positions within each gender group, it might appear that men have a higher chance. However, when we consider the entire dataset, we may find the opposite due to the confounding variable.\n\nThe key takeaway is that understanding causation is crucial, and Simpson's Paradox emphasizes the need to consider confounding factors when interpreting data.\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}